# Управление администраторами бота

## Обзор

Система управления администраторами бота теперь использует отдельный файл `admins.json` для хранения списка администраторов. Это позволяет легко добавлять и удалять администраторов без изменения кода.

## Файл admins.json

Файл `admins.json` находится в корневой директории бота на сервере:
```
/root/spelling-check-bot/admins.json
```

### Формат файла:
```json
{
  "admins": [
    241666547,
    123456789
  ]
}
```

## Скрипт управления администраторами

Для удобного управления администраторами создан скрипт `manage_admins.sh`.

### Использование:

```bash
# Показать текущих администраторов
./manage_admins.sh show

# Добавить администратора
./manage_admins.sh add 123456789

# Удалить администратора
./manage_admins.sh remove 123456789

# Перезапустить бота
./manage_admins.sh restart
```

### Примеры:

```bash
# Показать всех администраторов
ssh root@164.90.237.57 "cd /root/spelling-check-bot && ./manage_admins.sh show"

# Добавить нового администратора
ssh root@164.90.237.57 "cd /root/spelling-check-bot && ./manage_admins.sh add 987654321"

# Удалить администратора
ssh root@164.90.237.57 "cd /root/spelling-check-bot && ./manage_admins.sh remove 123456789"
```

## Команды администратора

Администраторы имеют доступ к следующим командам:

- `/stats` - просмотр статистики бота

## Безопасность

- Файл `admins.json` имеет права доступа 600 (только для владельца)
- Изменения вступают в силу только после перезапуска бота
- Скрипт автоматически перезапускает бота при изменении списка администраторов

## Текущие администраторы

- ID: 241666547 (основной администратор)

## Добавление нового администратора

1. Получите Telegram ID пользователя (можно использовать бота @userinfobot)
2. Выполните команду:
   ```bash
   ssh root@164.90.237.57 "cd /root/spelling-check-bot && ./manage_admins.sh add ID_ПОЛЬЗОВАТЕЛЯ"
   ```

## Удаление администратора

```bash
ssh root@164.90.237.57 "cd /root/spelling-check-bot && ./manage_admins.sh remove ID_ПОЛЬЗОВАТЕЛЯ"
```

## Ручное редактирование

При необходимости можно отредактировать файл `admins.json` вручную:

```bash
ssh root@164.90.237.57 "cd /root/spelling-check-bot && nano admins.json"
```

После ручного редактирования не забудьте перезапустить бота:

```bash
ssh root@164.90.237.57 "cd /root/spelling-check-bot && ./manage_admins.sh restart"
```
